> [!NOTE]
> ほとんど LLM で作ってるし適当に動作確認してるからなんも保証しないけど好きにしてね

# Sold by Amazon Filter Extension

Amazon.co.jp の検索結果ページで、「Amazonが販売および発送する商品」のみを表示するフィルターを自動的に適用するブラウザ拡張機能です。

## 概要

この拡張機能は、Amazon.co.jp で商品を検索する際に、デフォルトで「Amazonが販売・発送」のフィルターを有効にします。拡張機能のアイコンをクリックすることで、現在開いているタブでのみ、一時的にフィルターを無効にすることができます。

## 主な機能（仕様）

- **自動フィルター適用**: `www.amazon.co.jp` の検索結果ページを開くと、自動的に「Amazonが販売・発送」(`rh=p_6:AN1VRQENFRJN5`) のフィルターをURLに追加してリダイレクトします。
- **タブごとの状態管理**: フィルターの有効/無効状態はブラウザのタブごとに管理されます。あるタブで無効にしても、他のタブには影響しません。
- **一時的な無効化**: 拡張機能のアイコンをクリックすると、そのタブでのみフィルター機能が無効になり、ページが再読み込みされます。再度アイコンをクリックすると、再び有効になります。
- **状態の永続化**: フィルターの状態はセッションストレージ (`chrome.storage.session`) に保存されるため、タブを閉じるまで維持されます。
- **アイコンによる状態表示**: アイコンのツールチップテキストが現在の状態（有効/無効）に応じて変化し、視覚的に確認できます。

## セットアップ（開発者向け）

このプロジェクトをローカルでセットアップする手順は以下の通りです。

1.  **リポジトリをクローンする**
    ```bash
    git clone https://github.com/Atis9/sold-by-amazon-filter-extension.git
    cd sold-by-amazon-filter-extension
    ```

2.  **依存関係をインストールする**
    Node.js と npm がインストールされていることを確認してください。
    ```bash
    npm install
    ```

3.  **プロジェクトをビルドする**
    以下のコマンドを実行して、TypeScriptソースコードをビルドし、`dist` ディレクトリに成果物を生成します。
    ```bash
    npm run build
    ```
    `vite.config.ts` の設定に基づき、`src/background.ts` が `dist/background.js` にコンパイルされます。

4.  **ブラウザに拡張機能を読み込む**
    - Google Chromeで、アドレスバーに `chrome://extensions` と入力して拡張機能管理ページを開きます。
    - 「デベロッパーモード」を有効にします。
    - 「パッケージ化されていない拡張機能を読み込む」ボタンをクリックします。
    - このプロジェクトのルートディレクトリ（`manifest.json` がある場所）を選択します。

## 使い方

1.  Amazon.co.jp でキーワード検索を行います。
2.  自動的に「Amazonが販売・発送」フィルターが適用された検索結果が表示されます。
3.  このフィルターを一時的に解除したい場合は、ブラウザのツールバーにある拡張機能のアイコンをクリックしてください。ページがリロードされ、フィルターが解除されます。
4.  再度フィルターを有効にしたい場合は、もう一度アイコンをクリックします。

---
**ライセンス**: MIT
